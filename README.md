# AgroCalculator PPR

**Версия 1.0.0** - Стабильная рабочая версия

Полнофункциональное оффлайн мобильное приложение для агрономических расчетов и управления средствами защиты растений.

## Описание

AgroCalculator PPR — это профессиональный инструмент для агрономов, который помогает в подборе препаратов, расчете рабочих растворов, управлении полями, учете обработок и складском учете.

**Версия 1.0.0** — это полноценная рабочая версия приложения со всеми основными функциями. Все модули протестированы и готовы к использованию.

### Основные возможности

- **Подбор препаратов**
  - Интеллектуальный подбор средств защиты растений
  - Учет культуры и фазы развития (BBCH)
  - Выбор вредителей (сорняки, болезни, насекомые)
  - Учет погодных условий и типа почвы
  - Расчет эффективности и стоимости

- **Расчеты**
  - Расчет дозировок с корректировкой по условиям
  - Расчет рабочих растворов
  - Расчет стоимости обработки
  - Детальные результаты с инструкциями
  - Проверка совместимости препаратов

- **Управление полями**
  - Создание и редактирование полей
  - Учет площади и типа почвы
  - История севооборота
  - Статистика по полям

- **Учет обработок**
  - Ведение истории обработок
  - Учет погодных условий
  - Запись примененных препаратов
  - Расчет стоимости обработок
  - Планирование обработок

- **Складской учет**
  - Учет препаратов на складе
  - Отслеживание сроков годности
  - Предупреждения о просрочке
  - Управление запасами

- **Аналитика и отчеты**
  - Экономическая аналитика
  - Агрономическая аналитика
  - Экспорт отчетов
  - Статистика по эффективности

- **Дополнительные функции**
  - Система предупреждений (резистентность, фитотоксичность)
  - Поиск препаратов, культур и вредителей
  - Оффлайн работа
  - Резервное копирование данных

## Версия

**Текущая версия: 1.0.0**

Это стабильная релизная версия приложения. Все функции протестированы и работают корректно:
- ✅ Подбор препаратов с учетом множества факторов
- ✅ Расчеты дозировок и рабочих растворов
- ✅ Управление полями и обработками
- ✅ Складской учет
- ✅ Аналитика и отчеты
- ✅ Полностью оффлайн работа

## Требования

- Node.js >= 20
- React Native 0.82.1
- Android Studio (для Android)
- Xcode (для iOS, только на macOS)
- CocoaPods (для iOS)

## Установка и сборка

### 1. Клонирование репозитория

```bash
git clone <URL_РЕПОЗИТОРИЯ>
cd AgroCalculatorPPR
```

Или скачайте архив релиза версии 1.0.0 с GitHub.

### 2. Установка зависимостей

```bash
npm install
```

### 3. Настройка для iOS (только macOS)

```bash
cd ios && pod install && cd ..
```

### 4. Запуск приложения

#### Для Android

```bash
npm run android
```

Или через Android Studio:
1. Откройте проект в Android Studio
2. Подключите Android-устройство или запустите эмулятор
3. Нажмите "Run"

#### Для iOS (только macOS)

```bash
npm run ios
```

Или через Xcode:
1. Откройте `ios/AgroCalculatorPPR.xcworkspace` в Xcode
2. Выберите устройство или симулятор
3. Нажмите "Run"

### 5. Сборка релизной версии

#### Android (APK)

```bash
cd android
./gradlew assembleRelease
```

APK файл будет находиться в `android/app/build/outputs/apk/release/app-release.apk`.

#### iOS (требуется macOS и Xcode)

```bash
cd ios
xcodebuild -workspace AgroCalculatorPPR.xcworkspace -scheme AgroCalculatorPPR -configuration Release
```

### 6. Установка на устройство

#### Android

1. **Через ADB:**
   ```bash
   adb install android/app/build/outputs/apk/release/app-release.apk
   ```

2. **Через файловый менеджер:**
   - Скопируйте APK на устройство
   - Откройте файл и установите

#### iOS

1. Откройте проект в Xcode
2. Подключите iOS-устройство
3. Выберите устройство и нажмите "Run"

## Структура проекта

```
src/
├── components/          # Переиспользуемые UI компоненты
├── database/            # База данных SQLite и схема
├── models/              # TypeScript модели данных
├── navigation/          # Навигация приложения
├── repositories/        # Репозитории для работы с БД
├── screens/             # Экраны приложения
│   ├── Analytics/       # Экраны аналитики
│   ├── Fields/          # Управление полями
│   ├── ProductSelection/# Подбор препаратов
│   ├── Treatments/      # Учет обработок
│   └── Warnings/        # Система предупреждений
├── services/            # Бизнес-логика и сервисы
├── data/                # Исходные данные (BBCH, совместимость)
└── utils/               # Утилиты (форматирование, валидация)
```

## База данных

Приложение использует SQLite для локального хранения данных:
- Культуры (50+)
- Вредители (40+)
- Препараты (20+)
- Поля и их характеристики
- История обработок
- Складской учет
- Данные об эффективности препаратов
- Матрица совместимости

## Разработка

### Запуск в режиме разработки

```bash
# Запустить Metro bundler
npm start

# В другом терминале запустить на устройстве
npm run android  # или npm run ios
```

### Тестирование

```bash
npm test
```

### Линтинг

```bash
npm run lint
```

## Технические детали

- **Платформа:** React Native
- **Язык:** TypeScript
- **Версия приложения:** 1.0.0
- **База данных:** SQLite (react-native-sqlite-storage)
- **UI библиотека:** React Native Paper
- **Навигация:** React Navigation
- **Минимальная версия Android:** API 21 (Android 5.0)
- **Минимальная версия iOS:** 13.0

## Документация

- [Руководство пользователя](docs/USER_GUIDE.md)
- [Технический обзор](docs/TECH_OVERVIEW.md)

## Особенности

- ✅ Полностью оффлайн работа
- ✅ Профессиональные алгоритмы расчетов
- ✅ Учет множества факторов (погода, почва, фаза развития)
- ✅ Интуитивный интерфейс
- ✅ Подробная документация
- ✅ Система предупреждений
- ✅ Экспорт/импорт данных

## Лицензия

Все права защищены.

## Контакты

Разработчик: Видякин Дмитрий  
Telegram: @Deckardic
